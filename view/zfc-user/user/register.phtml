<h1><?= $this->translate('Register') ?></h1>

<?php if (!$this->enableRegistration): ?>
    <?= 'Registration is disabled' ?>
    <?php return; ?>
<?php endif; ?>

<?php
/** @var $form \Zend\Form\Form */
$form = $this->registrationForm;
$form->prepare();
$form->setAttribute('action', $this->url('zfcuser/register'));
$form->setAttribute('method', 'post');
?>

<?= $this->form()->openTag($form) ?>

    <?php if ($this->redirect): ?>
        <input type="hidden" name="redirect" value="<?= $this->escapeHtml($this->redirect) ?>" />
    <?php endif ?>

    <?php foreach ($form as $elementOrFieldset): ?>
        <?php if ($elementOrFieldset instanceof Zend\Form\Fieldset): ?>
            <?= $this->formCollection($elementOrFieldset) ?>
        <?php else: ?>
            <?= $this->formRow($elementOrFieldset) ?>
        <?php endif; ?>
    <?php endforeach; ?>

<?= $this->form()->closeTag() ?>
